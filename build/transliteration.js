"use strict";var ucs2decode=require("punycode").ucs2.decode,codemap=require("../src/codemap"),Transliteration=function(e,r){r=r||"?",e=ucs2decode(e||"");var a,o,n,t,i="";for(n in e)if(a=e[n],a>65535)i+=r;else{var c=a>>8;if("undefined"==typeof codemap[c])for(codemap[c]=[],t=0;256>t;t++)codemap[c].push(r);a=255&a,o=codemap[c][a],null===o&&(o=r),i+=o}return i.replace(/\s+$/,"")},Slugify=function(e,r){r=r||{};var a={lowercase:!0,separator:"-"};for(var o in a)"undefined"==typeof r[o]&&(r[o]=a[o]);var n=new Transliteration(e).replace(/[^a-zA-Z0-9]+/g,r.separator);r.lowercase&&(n=n.toLowerCase());var t=r.separator.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return n=n.replace(new RegExp("^("+t+")+|("+t+")+$","g"),"")};Transliteration.transliterate=Transliteration,Transliteration.slugify=Slugify,Transliteration.codemap=codemap,module.exports=Transliteration;